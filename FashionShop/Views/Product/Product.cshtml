@model PagedList.IPagedList<FashionShop.Models.EF.Product>
@using PagedList.Mvc

@{
    ViewBag.Title = "Product";
    Layout = "~/Views/Shared/Index.cshtml";
}

<!-- Title Page -->
<section class="bg-title-page p-t-50 p-b-40 flex-col-c-m" style="background-image: url(/Images/Slides/anh-bia-1.jpg)">
    <h2 class="l-text2 t-center">
        Fashion shop
    </h2>
    <p class="m-text13 t-center">
        New Arrivals Collection 2018
    </p>
</section>


<!-- Content page -->
<section class="bgwhite p-t-55 p-b-65">
    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-md-4 col-lg-3 p-b-50">
                <div class="leftbar p-r-20 p-r-0-sm">
                    <!--  -->
                    <h4 class="m-text14 p-b-7">
                        <strong style="font-size:25px; font-family:fantasy">Categories</strong>
                    </h4>


                    @{Html.RenderAction("MenuCate", "Product");}


                    @*<h4 class="m-text14 p-b-32">
                            Filters
                        </h4>*@

                    @*<div class="filter-price p-t-22 p-b-50 bo3">
                            <div class="m-text15 p-b-17">
                                Price
                            </div>

                            <div class="wra-filter-bar">
                                <div id="filter-bar"></div>
                            </div>

                            <div class="flex-sb-m flex-w p-t-16">
                                <div class="w-size11">
                                    <!-- Button -->
                                    <button class="flex-c-m size4 bg7 bo-rad-15 hov1 s-text14 trans-0-4">
                                        Filter
                                    </button>
                                </div>

                                <div class="s-text3 p-t-10 p-b-10">
                                    Range: $<span id="value-lower">610</span> - $<span id="value-upper">980</span>
                                </div>
                            </div>
                        </div>

                        <div class="filter-color p-t-22 p-b-50 bo3">
                            <div class="m-text15 p-b-12">
                                Color
                            </div>

                            <ul class="flex-w">
                                <li class="m-r-10">
                                    <input class="checkbox-color-filter" id="color-filter1" type="checkbox" name="color-filter1">
                                    <label class="color-filter color-filter1" for="color-filter1"></label>
                                </li>

                                <li class="m-r-10">
                                    <input class="checkbox-color-filter" id="color-filter2" type="checkbox" name="color-filter2">
                                    <label class="color-filter color-filter2" for="color-filter2"></label>
                                </li>

                                <li class="m-r-10">
                                    <input class="checkbox-color-filter" id="color-filter3" type="checkbox" name="color-filter3">
                                    <label class="color-filter color-filter3" for="color-filter3"></label>
                                </li>

                                <li class="m-r-10">
                                    <input class="checkbox-color-filter" id="color-filter4" type="checkbox" name="color-filter4">
                                    <label class="color-filter color-filter4" for="color-filter4"></label>
                                </li>

                                <li class="m-r-10">
                                    <input class="checkbox-color-filter" id="color-filter5" type="checkbox" name="color-filter5">
                                    <label class="color-filter color-filter5" for="color-filter5"></label>
                                </li>

                                <li class="m-r-10">
                                    <input class="checkbox-color-filter" id="color-filter6" type="checkbox" name="color-filter6">
                                    <label class="color-filter color-filter6" for="color-filter6"></label>
                                </li>

                                <li class="m-r-10">
                                    <input class="checkbox-color-filter" id="color-filter7" type="checkbox" name="color-filter7">
                                    <label class="color-filter color-filter7" for="color-filter7"></label>
                                </li>
                            </ul>
                        </div>*@

                    <br />
                    <br />
                    
                </div>
            </div>

            <div class="col-sm-6 col-md-8 col-lg-9 p-b-50">
                <!--  -->
                <div class="flex-sb-m flex-w p-b-35">
                    <div class="flex-w">
                        @*<div class="rs2-select2 bo4 of-hidden w-size12 m-t-5 m-b-5 m-r-10">
                                <select class="selection-2" name="sorting">
                                    <option>Default Sorting</option>
                                    <option>Popularity</option>
                                    <option>Price: low to high</option>
                                    <option>Price: high to low</option>
                                </select>
                            </div>*@

                        @*<div class="rs2-select2 bo4 of-hidden w-size12 m-t-5 m-b-5 m-r-10">
                            <select class="selection-2" name="sorting">
                                <option>Price</option>
                                <option value="50000"> > 50.000</option>
                                <option value="100000">100.000 - 300.000</option>
                                <option value="300000">300.000 - 600.000</option>
                                <option value="600000"> > 600.000</option>
                            </select>
                        </div>*@
                        <!-- Search product-->
                        @{ Html.RenderAction("SearchProduct", "Product");}
                    </div>

                    <span class="s-text8 p-t-5 p-b-5">
                        Showing @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) - @(Model.PageCount)
                    </span>
                </div>


                <!-- Product -->
                <div class="row" id="products">
                    @foreach (var item in Model)
                    {
                        <div class="col-sm-12 col-md-6 col-lg-4 p-b-50">
                            <!-- Block2 -->
                            <div class="block2">

                                <div class="block2-img wrap-pic-w of-hidden pos-relative" style="border-radius: 20px">
                                    <img src="~/Images/Products/@item.ProductImg" alt="IMG-PRODUCT">
                                    <div class="block2-overlay trans-0-4">
                                        <div class="block2-btn-addcart w-size1 trans-0-4">
                                            <!-- Button -->
                                            <button class="flex-c-m size1 bg4 bo-rad-23 hov1 s-text1 trans-0-4">
                                                Add to Cart
                                            </button>
                                        </div>
                                    </div>
                                </div>


                                <div class="block2-txt p-t-20">
                                    <a href="/@item.Meta-@item.ID" data-id="@item.ID" class="block2-name dis-block s-text3 p-b-5">
                                        @item.ProductName
                                    </a>

                                    <span class="block2-price m-text6 p-r-5">
                                        $ @item.ProductPrice
                                    </span>
                                </div>
                            </div>
                        </div>
                    }
                </div>

                <!-- Pagination -->
                <div class="pagination flex-m flex-w p-t-26 m-t-0" style="margin-left:-10px; margin-bottom:-32px; font-style:oblique; color:#de4242; font-weight:bolder">
                    Trang: @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) / @(Model.PageCount)
                </div>
                <div class="pagination flex-m flex-w p-t-26 m-t-0">
                    @Html.PagedListPager(Model, page => Url.Action("Product", new { page }))
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Back to top -->
<div class="btn-back-to-top bg0-hov" id="myBtn">
    <span class="symbol-btn-back-to-top">
        <i class="fa fa-angle-double-up" aria-hidden="true"></i>
    </span>
</div>

<!-- Container Selection -->
<div id="dropDownSelect1"></div>
<div id="dropDownSelect2"></div>


<!--===============================================================================================-->
<script type="text/javascript" src="~/Scripts/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
<script type="text/javascript" src="~/Scripts/animsition.min.js"></script>
<script src="~/Scripts/sweetalert.min.js"></script>
<!--===============================================================================================-->
<script type="text/javascript" src="~/Scripts/popper.js"></script>
<script type="text/javascript" src="~/Scripts/bootstrap.min.js"></script>
<!--===============================================================================================-->
<!--===============================================================================================-->
<script type="text/javascript" src="~/Scripts/select2.min.js"></script>
<script type="text/javascript">
    $(".selection-1").select2({
        minimumResultsForSearch: 20,
        dropdownParent: $('#dropDownSelect1')
    });

    $(".selection-2").select2({
        minimumResultsForSearch: 20,
        dropdownParent: $('#dropDownSelect2')
    });
</script>
<!--===============================================================================================-->
<script type="text/javascript" src="~/Scripts/moment.min.js"></script>
<script type="text/javascript" src="~/Scripts/daterangepicker.js"></script>
<!--===============================================================================================-->
<script type="text/javascript" src="~/Scripts/slick.min.js"></script>
<script type="text/javascript" src="~/Scripts/slick-custom.js"></script>
<!--===============================================================================================-->
<script type="text/javascript" src="~/Scripts/sweetalert.min.js"></script>

<!--====================================Add-to-Cart================================================-->
<script type="text/javascript">
        $('.block2-btn-addcart').each(function () {
            var nameProduct = $(this).parent().parent().parent().find('.block2-name').html();
            var id = $(this).parent().parent().parent().find('.block2-name').data('id');

            $(this).on('click', function () {

                $.ajax({
                    url: '@Url.Action("AddItem", "Cart")',
                    data: { productID: id, Quantity: 1, sizeID: 1},
                    type: 'POST',
                })
                    .done(function (data) {
                        swal(nameProduct, "is added to cart !", "success");
                        $.ajax({
                            url: '@Url.Action("HeaderIcon", "Home")',
                            type: 'GET',
                        })
                            .done(function (data) {
                                $('#headericonBar').html(data);
                            });
                    })
                    .fail(function (data) {
                        alert("Something fail!");
                    });
			});
		});
</script>

<!--===============================================================================================-->
<script type="text/javascript" src="~/Scripts/nouislider.min.js"></script>
<script type="text/javascript">
		/*[ No ui ]
	    ===========================================================*/
        var filterBar = document.getElementById('filter-bar');

        noUiSlider.create(filterBar, {
            start: [50, 200],
            connect: true,
            range: {
                'min': 50,
                'max': 200
            }
        });

        var skipValues = [
            document.getElementById('value-lower'),
            document.getElementById('value-upper')
        ];

        filterBar.noUiSlider.on('update', function (values, handle) {
            skipValues[handle].innerHTML = Math.round(values[handle]);
        });
</script>
<!--===============================================================================================-->
<script src="~/Scripts/main.js"></script>







